class Solution {
public:
    vector<vector<string>> groupAnagrams(vector<string>& strs) {
        vector<vector<string>> res;
        vector<bool> used(strs.size(),false);
        for (int i = 0; i < strs.size(); i++ ) {
            vector<string> temp={strs[i]};
            if(used[i])
                continue;
            used[i]=true;
            vector<int> hist(26,0);
            for (int j = 0; j < strs[i].size() ; ++j) {
                hist[(strs[i][j])-'a']++;
            }
            for (int j = i+1; j < strs.size() ; ++j) {
                if(used[j])
                    continue;
                vector<int> tempHist=hist;
                bool anagram = true;
                for (int k = 0; k < strs[j].size() ; ++k) {
                    if((--tempHist[strs[j][k]-'a'])<0){
                        anagram=false;
                        break;
                    }
                }
                if(anagram){
                    used[j]=true;
                    temp.push_back(strs[j]);
                }
            }
            res.push_back(temp);
        }
        return res;
    }
};
